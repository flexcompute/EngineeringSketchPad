<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AVL Analysis Interface Module (AIM): Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AVL Analysis Interface Module (AIM)
   </div>
   <div id="projectbrief">AVL Analysis Interface Module (AIM)</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#overviewAVL">AVL AIM Overview</a></li>
<li class="level1"><a href="#assumptionsAVL">Geometry Requirements and Assumptions</a><ul><li class="level2"><a href="#airfoilAVL">Airfoils in ESP</a></li>
<li class="level2"><a href="#sectionsAVL">AVL Geometry File</a></li>
</ul>
</li>
<li class="level1"><a href="#exampleAVL">Examples</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="overviewAVL"></a>
AVL AIM Overview</h1>
<p>The use of lower-dimensional design tools is clearly desirable in a multidisciplinary/multi-fidelity aero design optimization setting. This is the crux of the Computational Aircraft Prototype Syntheses (CAPS) program. In many ways describing geometry appropriate for AVL (the Athena Vortex Lattice) code is more cumbersome than higher fidelity codes that require an Outer Mold Line. The goal is to make a CAPS AIM (Analysis Input Module) that directly feeds input to AVL and extracts the output quantities of interest from AVL's execution. This needs to be consistent with a build description that is hierarchical and multi-fidelity. That is, the build description that generates the geometric data at this level can be further enhanced to produce the complete OML of the aircraft design under consideration. As for the geometric description, AVL requires airfoil section data specified at the appropriate locations that describe the <em> skeleton </em> of the aircraft. These sections when <em> lofted </em> as groups and finally <em> unioned </em> together builds the OML. Clearly, intercepting the state of the geometry before these higher-level operations are applied provides the data appropriate for AVL. This naturally constructs a hierarchical geometric view where a design can progress into higher fidelities and feedback can be achieved where we can go back to this level of description when need be.</p>
<p>An outline of the AIM's inputs and outputs are provided in <a class="el" href="aimInputsAVL.html">AIM Inputs</a> and <a class="el" href="aimOutputsAVL.html">AIM Outputs</a>, respectively.</p>
<p>Details on the use of units are outlined in <a class="el" href="aimUnitsAVL.html">AIM Units</a>.</p>
<p>Geometric attribution that the AIM makes use is provided in <a class="el" href="attributeAVL.html">AIM Attributes</a>.</p>
<p>The AVL AIM can automatically execute avl, with details provided in <a class="el" href="aimExecuteAVL.html">AIM Execution</a>.</p>
<p>To populate output data the AIM expects files, "capsTotalForce.txt", "capsStripForce.txt", "capsStatbilityDeriv.txt", "capsBodyAxisDeriv.txt", and "capsHingeMoment.txt" to exist after running AVL (see <a class="el" href="aimOutputsAVL.html">AIM Outputs</a> for additional information). An example execution for AVL looks like:</p>
<h1><a class="anchor" id="assumptionsAVL"></a>
Geometry Requirements and Assumptions</h1>
<p>The AVL coordinate system assumption (X &ndash; downstream, Y &ndash; out the right wing, Z &ndash; up) needs to be followed.</p>
<h2><a class="anchor" id="airfoilAVL"></a>
Airfoils in ESP</h2>
<p>Within <b>OpenCSM</b> there are a number of airfoil generation UDPs (User Defined Primitives). These include NACA 4 series, a more general NACA 4/5/6 series generator, Sobieczky's PARSEC parameterization and Kulfan's CST parameterization. All of these UDPs generate <b>EGADS</b> <em>FaceBodies</em> where the <em>Face</em>'s underlying <em>Surface</em> is planar and the bounds of the <em>Face</em> is a closed set of <em>Edges</em> whose underlying <em>Curves</em> contain the airfoil shape.</p>
<p><b>Important Airfoil Geometry Assumptions</b></p><ul>
<li>There must be a <em>Node</em> that represents the <em>Leading Edge</em> point</li>
<li>For a sharp trailing edge, there must be a <em>Nodes</em> at the <em>Trailing Edge</em></li>
<li>For a blunt trailing edge, the airfoil curve may be open, or closed by a single <em>Edge</em> connecting the upper/lower <em>Nodes</em></li>
<li>For a <em>FaceBody</em>, the airfoil coordinates traverse counter-clockwise around the <em>Face</em> normal. The <b>OpenCSM</b> <em>REORDER</em> operation may be used to flip the <em>Face</em> normal.</li>
<li>For a <em>WireBody</em>, the airfoil coordinates traverse in the order of the loop</li>
</ul>
<p><b>Note:</b> Additional spurious <em>Nodes</em> on the upper and lower <em>Edges</em> of the airfoil are acceptable.</p>
<h2><a class="anchor" id="sectionsAVL"></a>
AVL Geometry File</h2>
<p>The AVL Surface Sections with airfoils are automatically generated from a set of <em> FaceBodys</em> with the same capsGroup attributes, and the geometric details extracted from the geometry. Attempts are made to orient and sort <em>FaceBody</em>, but users are encouraged to check the airfoil orientation in the AVL input file when setting up a new problem. The <em> FaceBody</em> must contain at least two edges and two nodes, but may contain any number of <em> Edges</em> otherwise. If the <em> FaceBody</em> contains more nodes, the node with the smallest <b> x</b> value is used to define the leading edge, the node with the largest <b> x</b> defines the trailing edge. The airfoil may have a single <em> Edge</em> that defines a straight blunt trailing edge. <b> Xle</b>, <b> Yle</b>, and <b> Zle</b>, are taken from the <em> Node</em> associated with the <em> Leading Edge</em>. The <b> Chord</b> is computed by getting the distance between the LE and TE (if there is a blunt trainling <em> Edge</em> in the <em> FaceBody</em> the TE point is considered the mid-position on that <em> Edge</em>). <b> Ainc</b> is computed by registering the chordal direction of the <em> FaceBody</em> against the X-Z plane. The airfoil shapes are generated by sampling the normalized <em> Curves</em> and put directly in the input file via the <b>AIRFOIL</b> keyword, or put in separate airfoil files if the AirfoilFiles (see <a class="el" href="aimInputsAVL.html">AIM Inputs</a>) input is set to True.</p>
<p>It should be noted that general construction in either <b> OpenCSM</b> or even <b> EGADS</b> will be supported as long as the topology described above is used. But care should be taken when constructing the airfoil shape so that a discontinuity (i.e., simply <em>C<sup>0</sup></em>) is not generated at the <em>Node</em> representing the <em>Leading Edge</em>. This can be done by fitting a spline through the entire shape as one and then intersecting the single <em>Edge</em> to place the LE <em>Node</em>.</p>
<p>AVL surfaces are also able to be constructed from a sequence of LINE <em>WireBodies</em>. However, the bodies must be constructed in order and are not sorted by the AIM. This method is useful for creating cruciform fuselages or nacelles.</p>
<p>The rest of the information and options required to fill out the AVL geometry input file (<b> xxx.avl</b>) will be found in the attributes attached to the <em>FaceBody</em> itself. The conventions used will be described in the next section.</p>
<p>Also note that this first implementation is not intended to provide complete control over AVL. In particular, there is no mention above of the <b> DESIGN</b>, or <b> CDCL</b> AVL keywords.</p>
<h1><a class="anchor" id="exampleAVL"></a>
Examples</h1>
<p>An example problem using the AVL AIM may be found at <a class="el" href="avlExample.html">AVL AIM Examples</a>, which contains example *.csm input files and pyCAPS scripts designed to make use of the AVL AIM. These example scripts make extensive use of the <a class="el" href="attributeAVL.html">AIM Attributes</a>, <a class="el" href="aimInputsAVL.html">AIM Inputs</a>, and <a class="el" href="aimOutputsAVL.html">AIM Outputs</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
